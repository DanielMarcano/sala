{"version":3,"sources":["node_modules/browser-pack/_prelude.js","public/js/alquiler.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","consentButton","document","getElementById","form","requiredFields","querySelectorAll","fields","addEventListener","preventDefault","key","click","forEach","element","formObject","request","invalidFields","allFilled","classList","add","value","focus","Request","method","cache","body","getAttribute","JSON","stringify","headers","Content-Type","fetch","then","response","json","jsonData","alert","message","field","checked","remove","target"],"mappings":"CAAA,WAAA,OAAA,SAAAA,EAAAC,EAAAC,EAAAC,GAAA,SAAAC,EAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,IAAAE,EAAA,mBAAAC,SAAAA,QAAA,IAAAF,GAAAC,EAAA,OAAAA,EAAAF,GAAA,GAAA,GAAAI,EAAA,OAAAA,EAAAJ,GAAA,GAAA,IAAAK,EAAA,IAAAC,MAAA,uBAAAN,EAAA,KAAA,MAAAK,EAAAE,KAAA,mBAAAF,EAAA,IAAAG,EAAAX,EAAAG,GAAA,CAAAS,QAAA,IAAAb,EAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,OAAAI,EAAAH,EAAAI,GAAA,GAAAL,IAAAA,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,OAAAD,EAAAG,GAAAS,QAAA,IAAA,IAAAL,EAAA,mBAAAD,SAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,IAAA,OAAAD,GAAA,EAAA,CAAA,CAAAa,EAAA,CAAA,SAAAT,EAAAU,EAAAJ,gBCAA,IAAMK,EAAgBC,SAASC,eAAe,kBACxCC,EAAOF,SAASC,eAAe,QAC/BE,EAAiBD,EAAKE,iBAAiB,cACvCC,EAASH,EAAKE,iBAAiB,0CACnBJ,SAASI,iBAAiB,uDAU5CL,EAAcO,iBAAiB,QAAS,SAACzB,GACvCA,EAAE0B,iBACY,UAAV1B,EAAE2B,KAAiBT,EAAcU,UAGvCN,EAAeO,QAAQ,SAACC,GACtBA,EAAQL,iBAAiB,QAAS,SAACzB,QAuDrCqB,EAAKI,iBAAiB,SAAU,SAAUzB,GAdzB,IART+B,EASAC,EArCAC,EACFC,EAkDJlC,EAAE0B,iBAnDIO,EAAgBZ,EAAKE,iBAAiB,YACxCW,GAAY,EAEa,IAAzBD,EAAclB,SAChBmB,GAAY,EACZD,EAAcJ,QAAQ,SAACC,GACrBA,EAAQK,UAAUC,IAAI,oBAEO,OAA3BH,EAAc,GAAGI,MACnBJ,EAAc,GAAGK,QAEjBpB,EAAcoB,SAIXJ,IAsBDF,EAAU,IAAIO,QAAQ,YAAa,CACvCC,OAAQ,OACRC,MAAO,SACPC,MAZIX,EAAa,GACGV,EAAKE,iBAAiB,0CAC9BM,QAAQ,SAACC,GACrBC,EAAWD,EAAQa,aAAa,SAAWb,EAAQO,QAE9CO,KAAKC,UAAUd,IAQpBe,QAAS,CACPC,eAAgB,sBAGpBC,MAAMhB,GACHiB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,SAC1BF,KAAK,SAAAG,GAAQ,OAAIC,MAAMD,EAASE,WA5BnCnC,SAASI,iBAAiB,mBAAmBM,QAAQ,SAACC,GACpD,IAAMyB,EAAQzB,EACdyB,EAAMlB,MAAQ,GACdkB,EAAMC,SAAU,EAChBD,EAAMpB,UAAUsB,OAAO,uBAzCzBjC,EAAOK,QAAQ,SAACC,GACdA,EAAQL,iBAAiB,OAAQ,SAACzB,GAChCA,EAAE0D,OAAOvB,UAAUC,IAAI","file":"alquiler.bundle.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","const consentButton = document.getElementById('consent-button');\nconst form = document.getElementById('form');\nconst requiredFields = form.querySelectorAll('[required]');\nconst fields = form.querySelectorAll('input:not([type=\"checkbox\"]), textarea');\nconst focusable = document.querySelectorAll('input:not([type=\"checkbox\"]), textarea, .conditions');\n\nconst addValidationEvents = () => {\n  fields.forEach((element) => {\n    element.addEventListener('blur', (e) => {\n      e.target.classList.add('form__validate');\n    });\n  });\n};\n\nconsentButton.addEventListener('keyup', (e) => {\n  e.preventDefault();\n  if (e.key === 'Enter') consentButton.click();\n});\n\nrequiredFields.forEach((element) => {\n  element.addEventListener('focus', (e) => {\n  });\n});\n\nconst validateForm = () => {\n  const invalidFields = form.querySelectorAll(':invalid');\n  let allFilled = true;\n\n  if (invalidFields.length !== 0) {\n    allFilled = false;\n    invalidFields.forEach((element) => {\n      element.classList.add('form__validate');\n    });\n    if (invalidFields[0].value !== 'on') {\n      invalidFields[0].focus();\n    } else {\n      consentButton.focus();\n    }\n  }\n\n  return allFilled;\n};\n\nconst restartFields = () => {\n  document.querySelectorAll('input, textarea').forEach((element) => {\n    const field = element;\n    field.value = '';\n    field.checked = false;\n    field.classList.remove('form__validate');\n  });\n};\n\nconst saveFormIntoJSON = () => {\n  const formObject = {};\n  const updatedFields = form.querySelectorAll('input:not([type=\"checkbox\"]), textarea');\n  updatedFields.forEach((element) => {\n    formObject[element.getAttribute('name')] = element.value;\n  });\n  return JSON.stringify(formObject);\n};\n\nconst sendForm = () => {\n  const request = new Request('/alquiler', {\n    method: 'POST',\n    cache: 'reload',\n    body: saveFormIntoJSON(),\n    headers: {\n      'Content-Type': 'application/json',\n    },\n  });\n  fetch(request)\n    .then(response => response.json())\n    .then(jsonData => alert(jsonData.message));\n};\n\nform.addEventListener('submit', function (e) {\n  e.preventDefault();\n  if (validateForm(this)) {\n    sendForm();\n    restartFields();\n  }\n});\n\naddValidationEvents();"]}